                <!-- Logo & GitHub -->
                <div class="bg-purple-dark text-white p-5">
                    <div class="flex items-center justify-between mb-2">
                        <h1 class="text-xl font-bold">GRBL Control Pro</h1>
                        <span
                            class="text-xs bg-purple-medium px-2 py-1 rounded">v3.0</span>
                    </div>
                    <a
                        href="https://github.com/makerspace-lab/grbl-web-control-pro"
                        target="_blank"
                        class="flex items-center gap-2 text-xs text-purple-pale hover:text-white transition">
                        <svg class="w-4 h-4" fill="currentColor"
                            viewBox="0 0 24 24">
                            <path
                                d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z" />
                        </svg>
                        <span>GitHub</span>
                    </a>
                </div>

                <!-- Connection Status -->
                <div class="p-5 border-b border-gray-200">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="flex items-center gap-2">
                            <div
                                :class="connected ? 'bg-green-500 animate-pulse' : 'bg-gray-400'"
                                class="w-3 h-3 rounded-full"></div>
                            <span class="text-sm font-medium"
                                x-text="connected ? 'Conectado' : 'Desconectado'"></span>
                        </div>
                    </div>
                    <button @click="toggleConnection"
                        :class="connected ? 'bg-red-500 hover:bg-red-600' : 'bg-purple-medium hover:bg-purple-dark'"
                        class="w-full text-white px-4 py-2 rounded-lg font-medium transition">
                        <span
                            x-text="connected ? 'Desconectar' : 'Conectar'"></span>
                    </button>
                    <select
                        class="w-full mt-2 px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option value="115200">115200</option>
                        <option value="9600">9600</option>
                    </select>
                </div>

                <!-- Machine State -->
                <div x-show="connected" class="p-5 border-b border-gray-200">
                    <h3
                        class="text-xs font-semibold text-purple-dark mb-3 uppercase tracking-wider">Estado
                        M√°quina</h3>
                    <div class="space-y-2">
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">Estado:</span>
                            <span
                                class="px-2 py-1 bg-purple-ultra-pale text-purple-dark rounded text-xs font-medium"
                                x-text="machineState"></span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">Feed:</span>
                            <span x-text="feedOverride + '%'"></span>
                        </div>
                        <div class="flex justify-between text-sm">
                            <span class="text-gray-600">Spindle:</span>
                            <span x-text="spindleOverride + '%'"></span>
                        </div>
                    </div>
                </div>

                <!-- Position Display -->
                <div x-show="connected" class="p-5 border-b border-gray-200">
                    <h3
                        class="text-xs font-semibold text-purple-dark mb-3 uppercase tracking-wider">Posici√≥n</h3>
                    <div class="space-y-2">
                        <template x-for="axis in ['X', 'Y', 'Z']" :key="axis">
                            <div
                                class="flex justify-between items-center bg-purple-ultra-pale rounded-lg p-2">
                                <span class="font-medium text-sm"
                                    x-text="axis + ':'"></span>
                                <span
                                    class="font-mono text-purple-medium font-semibold"
                                    x-text="position[axis.toLowerCase()]"></span>
                            </div>
                        </template>
                    </div>
                    <button @click="togglePosMode"
                        class="w-full mt-3 text-xs bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded transition">
                        <span x-text="posMode"></span>
                    </button>
                </div>

                <!-- Quick Controls -->
                <div x-show="connected" class="p-5 border-b border-gray-200">
                    <h3
                        class="text-xs font-semibold text-purple-dark mb-3 uppercase tracking-wider">Control
                        R√°pido</h3>
                    <div class="grid grid-cols-4 gap-2">
                        <button @click="sendCommand('$H')"
                            class="aspect-square bg-purple-ultra-pale hover:bg-purple-pale rounded-lg transition flex items-center justify-center text-2xl"
                            title="Home">üè†</button>
                        <button @click="sendCommand('$X')"
                            class="aspect-square bg-purple-ultra-pale hover:bg-purple-pale rounded-lg transition flex items-center justify-center text-2xl"
                            title="Unlock">üîì</button>
                        <button @click="reset"
                            class="aspect-square bg-red-100 hover:bg-red-200 rounded-lg transition flex items-center justify-center text-2xl"
                            title="Reset">‚ö†Ô∏è</button>
                        <button @click="emergencyStop"
                            class="aspect-square bg-red-500 hover:bg-red-600 text-white rounded-lg transition flex items-center justify-center text-2xl"
                            title="Stop">‚èπÔ∏è</button>
                    </div>
                </div>

                <!-- Workspace Offset -->
                <div x-show="connected" class="p-5 border-b border-gray-200">
                    <h3
                        class="text-xs font-semibold text-purple-dark mb-3 uppercase tracking-wider">Offset
                        Trabajo</h3>
                    <select
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm mb-2"
                        @change="sendCommand($event.target.value)">
                        <option value="G54">G54 (WCS 1)</option>
                        <option value="G55">G55 (WCS 2)</option>
                        <option value="G56">G56 (WCS 3)</option>
                        <option value="G57">G57 (WCS 4)</option>
                        <option value="G58">G58 (WCS 5)</option>
                        <option value="G59">G59 (WCS 6)</option>
                    </select>
                    <div class="space-y-2">
                        <button @click="sendCommand('G92 X0 Y0 Z0')"
                            class="w-full text-xs bg-purple-medium hover:bg-purple-dark text-white px-3 py-2 rounded-lg transition">
                            Set Zero (G92)
                        </button>
                        <button @click="sendCommand('G92.1')"
                            class="w-full text-xs bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded-lg transition">
                            Clear (G92.1)
                        </button>
                    </div>
                </div>

                <!-- Configuraci√≥n y Bibliotecas -->
                <div class="p-5 flex-1 overflow-auto">
                    <h3
                        class="text-xs font-semibold text-purple-dark mb-3 uppercase tracking-wider">Configuraci√≥n</h3>
                    <div class="space-y-2">
                        <button @click="openModal('grblSettings')"
                            class="w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-purple-ultra-pale transition text-sm">
                            <span>‚öôÔ∏è</span>
                            <span>Config GRBL</span>
                        </button>
                        <button @click="openToolsModal()"
                            class="w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-purple-ultra-pale transition text-sm">
                            <span>üîß</span>
                            <span>Herramientas</span>
                        </button>
                        <button @click="openModal('materialsLibrary')"
                            class="w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-purple-ultra-pale transition text-sm">
                            <span>üì¶</span>
                            <span>Materiales</span>
                        </button>
                    </div>
                </div>

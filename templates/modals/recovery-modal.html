<!-- Modal Recovery -->
<div x-show="showRecoveryModal"
    @click.self="discardRecovery()"
    class="modal-backdrop"
    x-transition>
    <div class="modal-content" style="max-width: 500px;" @click.stop>
        <!-- Header -->
        <div class="modal-header-compact bg-yellow-600 text-white rounded-t-lg">
            <div class="flex items-center justify-between">
                <h2>ğŸ”„ RecuperaciÃ³n de Proyecto</h2>
            </div>
        </div>

        <!-- Content -->
        <div class="modal-content-spacing">
            <div class="bg-yellow-50 border border-yellow-300 rounded-lg p-4">
                <p class="text-sm text-gray-700 mb-2">
                    <strong>Â¡AtenciÃ³n!</strong> Detectamos que la Ãºltima sesiÃ³n no fue guardada correctamente.
                </p>
                <p class="text-sm text-gray-700">
                    Â¿Deseas recuperar tu trabajo anterior?
                </p>
            </div>

            <template x-if="recoveryData && recoveryData.metadata">
                <div class="bg-gray-50 rounded-lg p-4">
                    <h3 class="text-sm font-semibold text-gray-700 mb-2">ğŸ“‹ InformaciÃ³n del Proyecto</h3>
                    <div class="space-y-1 text-xs text-gray-600">
                        <p><strong>Proyecto:</strong> <span x-text="recoveryData.metadata.projectName"></span></p>
                        <p><strong>Ãšltima modificaciÃ³n:</strong> <span x-text="new Date(recoveryData.metadata.modified).toLocaleString()"></span></p>
                        <p><strong>Elementos:</strong> <span x-text="recoveryData.elements?.length || 0"></span></p>
                        <p><strong>G-code generado:</strong> <span x-text="recoveryData.gcode?.generated ? 'SÃ­' : 'No'"></span></p>
                    </div>
                </div>
            </template>

            <!-- Actions -->
            <div class="flex gap-3">
                <button @click="discardRecovery()"
                    class="flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 rounded-lg font-medium transition">
                    âŒ Descartar
                </button>
                <button @click="recoverProject()"
                    class="flex-1 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-medium transition">
                    ğŸ”„ Recuperar
                </button>
            </div>
        </div>
    </div>
</div>
